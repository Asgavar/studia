# -*- sh -*-

opts=$(getopt --options cg:hvw --long color:,greeting:,capitalize,help,version,world -- $@)

eval set -- $opts

while true; do
    currentopt=$1
    shift
    case $currentopt in
        -c | --capitalize)
            CAPITALIZE=1;;
        --color)
            COLOR=$1;;
        -g | --greeting)
            GREETING=$1;;
        -h | --help)
            PRINTHELP=1;;
        -v | --version)
            PRINTVERSION=1;;
        -w | --world)
            ENDWITHHELLOWORLD=1;;
        --)
            break;;
    esac
done

if [ $PRINTVERSION ]; then
    echo A czy to wa≈ºne?
    exit 0
fi

# TODO --color=[never|auto|always]

if [ $PRINTHELP ]; then
    echo Interfejs jest opisany w poleceniu :/
    exit 0
fi

if [ ! $GREETING ]; then
    GREETING='Hello,'
fi

for name in $@; do
    echo $GREETING $name!
done
